{"tests": [{"data": {"status": "success", "tool_id": "gtdbtk", "time_seconds": 109.95128107070923, "inputs": {"inputseq": {"src": "hda", "id": "2891970512fa2d5a"}, "gtdbtk_databases": "default_db"}, "tool_version": "0.3.2", "job": {"stdout": "[2019-10-04 14:21:24] INFO: GTDB-Tk v0.3.2\n[2019-10-04 14:21:24] INFO: gtdbtk classify_wf -x fasta --genome_dir ./input --cpus 1 --out_dir ./output\n[2019-10-04 14:21:24] INFO: Using GTDB-Tk reference data version r89: /media/deolivl/QIB_deolivl/nobackup/GTDBTK/db\n[2019-10-04 14:21:24] INFO: Identifying markers in 1 genomes with 1 threads.\n[2019-10-04 14:21:24] INFO: Running Prodigal to identify genes.\n==> Finished processing 1 of 1 (100.0%) genomes.\r\n[2019-10-04 14:21:32] INFO: Identifying TIGRFAM protein families.\n==> Finished processing 1 of 1 (100.0%) genomes.\r\n[2019-10-04 14:21:35] INFO: Identifying Pfam protein families.\n==> Finished processing 1 of 1 (100.0%) genomes.\r\n[2019-10-04 14:21:35] INFO: Done.\n[2019-10-04 14:21:36] INFO: Aligning markers in 1 genomes with 1 threads.\n[2019-10-04 14:21:36] INFO: Processing 1 genomes identified as archaeal.\n[2019-10-04 14:21:36] INFO: Read concatenated alignment for 1248 GTDB genomes.\n[2019-10-04 14:21:38] INFO: Masking columns of multiple sequence alignment using canonical mask.\n[2019-10-04 14:21:40] INFO: Masked alignment from 32675 to 5124 AAs.\n[2019-10-04 14:21:40] INFO: 0 user genomes have amino acids in <10.0% of columns in filtered MSA.\n[2019-10-04 14:21:40] INFO: Creating concatenated alignment for 1249 GTDB and user genomes.\n[2019-10-04 14:21:40] INFO: Creating concatenated alignment for 1 user genomes.\n[2019-10-04 14:21:40] INFO: Done.\n[2019-10-04 14:21:41] INFO: Placing 1 archaeal genomes into reference tree with pplacer (be patient).\n[2019-10-04 14:22:09] INFO: Calculating average nucleotide identity using FastANI.\n[2019-10-04 14:22:12] INFO: 1 genomes have been classify using FastANI and pplacer.\n[2019-10-04 14:22:12] INFO: Calculating RED values based on reference tree.\n[2019-10-04 14:22:12] INFO: Done.\n", "job_stderr": "", "create_time": "2019-10-04T13:21:21.332854", "id": "5729865256bc2525", "tool_stderr": "", "command_line": "mkdir ./input && ln -s '/tmp/tmpO3aley/files/d/4/0/dataset_d40947c7-0ba5-4b6b-ab1d-9d7068d80dd8.dat' ./input/'genome_3.fna'.fasta && mkdir ./output ./output_zip && GTDBTK_DATA_PATH='/media/deolivl/QIB_deolivl/nobackup/GTDBTK/db'  gtdbtk classify_wf -x fasta --genome_dir ./input --cpus  ${GALAXY_SLOTS:-4} --out_dir ./output && grep -h  user_genome ./output*/gtdbtk.*.summary.tsv | head -1 > output/summary.tsv && grep -hv user_genome ./output*/gtdbtk.*.summary.tsv >> output/summary.tsv && if [ -f ./output/gtdbtk.ar122.user_msa.fasta ]; then mv ./output/gtdbtk.ar122.user_msa.fasta ./output/archaea.fasta; fi && if [ -f ./output_zip/gtdbtk.ar122.user_msa.fasta ]; then cat ./output_zip/gtdbtk.ar122.user_msa.fasta >> ./output/archaea.fasta; fi && if [ -f ./output/gtdbtk.bac120.user_msa.fasta ]; then mv ./output/gtdbtk.bac120.user_msa.fasta ./output/bacteria.fasta; fi && if [ -f ./output_zip/gtdbtk.bac120.user_msa.fasta ]; then cat ./output_zip/gtdbtk.bac120.user_msa.fasta >> ./output/bacteria.fasta; fi", "exit_code": 0, "state": "ok", "params": {"gtdbtk_databases": "\"default_db\"", "chromInfo": "\"/tmp/tmpO3aley/galaxy-dev/tool-data/shared/ucsc/chrom/?.len\"", "dbkey": "\"?\""}, "tool_stdout": "[2019-10-04 14:21:24] INFO: GTDB-Tk v0.3.2\n[2019-10-04 14:21:24] INFO: gtdbtk classify_wf -x fasta --genome_dir ./input --cpus 1 --out_dir ./output\n[2019-10-04 14:21:24] INFO: Using GTDB-Tk reference data version r89: /media/deolivl/QIB_deolivl/nobackup/GTDBTK/db\n[2019-10-04 14:21:24] INFO: Identifying markers in 1 genomes with 1 threads.\n[2019-10-04 14:21:24] INFO: Running Prodigal to identify genes.\n==> Finished processing 1 of 1 (100.0%) genomes.\r\n[2019-10-04 14:21:32] INFO: Identifying TIGRFAM protein families.\n==> Finished processing 1 of 1 (100.0%) genomes.\r\n[2019-10-04 14:21:35] INFO: Identifying Pfam protein families.\n==> Finished processing 1 of 1 (100.0%) genomes.\r\n[2019-10-04 14:21:35] INFO: Done.\n[2019-10-04 14:21:36] INFO: Aligning markers in 1 genomes with 1 threads.\n[2019-10-04 14:21:36] INFO: Processing 1 genomes identified as archaeal.\n[2019-10-04 14:21:36] INFO: Read concatenated alignment for 1248 GTDB genomes.\n[2019-10-04 14:21:38] INFO: Masking columns of multiple sequence alignment using canonical mask.\n[2019-10-04 14:21:40] INFO: Masked alignment from 32675 to 5124 AAs.\n[2019-10-04 14:21:40] INFO: 0 user genomes have amino acids in <10.0% of columns in filtered MSA.\n[2019-10-04 14:21:40] INFO: Creating concatenated alignment for 1249 GTDB and user genomes.\n[2019-10-04 14:21:40] INFO: Creating concatenated alignment for 1 user genomes.\n[2019-10-04 14:21:40] INFO: Done.\n[2019-10-04 14:21:41] INFO: Placing 1 archaeal genomes into reference tree with pplacer (be patient).\n[2019-10-04 14:22:09] INFO: Calculating average nucleotide identity using FastANI.\n[2019-10-04 14:22:12] INFO: 1 genomes have been classify using FastANI and pplacer.\n[2019-10-04 14:22:12] INFO: Calculating RED values based on reference tree.\n[2019-10-04 14:22:12] INFO: Done.\n", "job_messages": [], "tool_id": "gtdbtk", "update_time": "2019-10-04T13:22:14.607670", "outputs": {"bact_out": {"src": "hda", "id": "54f2a3a23292eb07", "uuid": "6c3a4651-d5b6-43a4-b877-e28eb2592cfd"}, "arch_out": {"src": "hda", "id": "8155e4b4bf1581ff", "uuid": "b6ee40be-cc7e-4634-8324-8d463d0a9ce1"}, "summary_out": {"src": "hda", "id": "5729865256bc2525", "uuid": "d6a32f28-b1dc-422d-a305-f615555e3b9c"}}, "history_id": "2891970512fa2d5a", "job_metrics": [], "job_stdout": "", "inputs": {"inputseq": {"src": "hda", "id": "2891970512fa2d5a", "uuid": "d40947c7-0ba5-4b6b-ab1d-9d7068d80dd8"}}, "stderr": "", "model_class": "Job", "external_id": "24187", "user_email": "test@bx.psu.edu"}, "test_index": 0}, "id": "functional.test_toolbox.TestForTool_gtdbtk.test_tool_000000", "has_data": true}], "version": "0.1", "exit_code": 0, "summary": {"num_skips": 0, "num_errors": 0, "num_failures": 0, "num_tests": 1}}